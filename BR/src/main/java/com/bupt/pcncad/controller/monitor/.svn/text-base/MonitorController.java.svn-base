package com.bupt.pcncad.controller.monitor;

import com.bupt.pcncad.service.monitor.LogMonitorService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import javax.servlet.http.HttpServletResponse;
import java.io.PrintWriter;

/**
 * Created with IntelliJ IDEA.
 * User: liboyang01
 * Date: 12-9-29
 * Time: 上午11:50
 * To change this template use File | Settings | File Templates.
 */
/*@Controller*/
/*@RequestMapping("/monitor")*/
public class MonitorController {

  /*  @Autowired
    private LogMonitorService logMonitorService;

    @RequestMapping("/log")
    public String log() {
        return "monitorViews/log/log";
    }

    @RequestMapping("/index")
    public String monitorIndex() {
        return "monitorViews/index";
    }
    @RequestMapping("/log/start")
    public void start(HttpServletResponse response, @RequestParam(value="first",required = false,defaultValue = "false")boolean first)throws Exception{
        this.logMonitorService.start(first);
        response.setContentType("text/plain;charset=utf-8");
        PrintWriter pw = response.getWriter();
        pw.print(this.logMonitorService.getLog());
        pw.flush();
        pw.close();

    }
    @RequestMapping("/log/stop")
    public void stop(ModelMap modelMap) throws Exception{
       this.logMonitorService.stop();
        modelMap.put("monitorStop","true");
    }*/
}
